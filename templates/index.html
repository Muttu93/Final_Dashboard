<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smart File Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="sidebar">
    <h2>Sections</h2>
    {% for sec in sections %}
        <a href="/?section={{ sec }}" class="{{ 'active' if sec == current_section else '' }}">{{ sec }}</a>
    {% endfor %}
</div>

<div class="main">
    <h1>{{ current_section }} Files</h1>

    <div class="upload-area" onclick="document.getElementById('fileInput').click();">
        Drag & Drop or Click to Upload
        <input type="file" id="fileInput" style="display:none;" onchange="uploadFile('{{ current_section }}')">
    </div>

    <input type="text" id="search" placeholder="Search files..." onkeyup="searchFiles()">

    <div class="file-list" id="fileList">
        {% for file in files %}
        <div class="file-card">
            <p>{{ file }}</p>
            <a href="/view/{{ current_section }}/{{ file }}" target="_blank">View</a>
            {% if file.endswith('.txt') or file.endswith('.docx') %}
            <button onclick="editFile('{{ current_section }}', '{{ file }}')">Edit</button>
            {% endif %}
            <button onclick="deleteFile('{{ current_section }}', '{{ file }}')">Delete</button>
        </div>
        {% endfor %}
    </div>
</div>

<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
